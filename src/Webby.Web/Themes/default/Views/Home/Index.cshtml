@model PostListViewModel
@{
    ViewData["Title"] = "Home";
}

<div class="space-y-8">
    @if (!Model.Posts.Any())
    {
        <div class="text-center py-16 text-gray-400">
            <p class="text-xl">No posts yet. Check back soon!</p>
        </div>
    }

    @foreach (var post in Model.Posts)
    {
        <article class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow">
            @if (!string.IsNullOrEmpty(post.FeaturedImageUrl))
            {
                <img src="@post.FeaturedImageUrl" alt="@post.Title"
                     class="w-full h-52 object-cover" />
            }
            <div class="p-6">
                <h2 class="text-2xl font-semibold mb-2">
                    <a href="/post/@post.Slug" class="text-gray-900 hover:text-indigo-600 transition-colors">
                        @post.Title
                    </a>
                </h2>
                @if (post.PublishedAt.HasValue)
                {
                    <time class="text-xs text-gray-400 block mb-3">
                        @post.PublishedAt.Value.ToString("MMMM d, yyyy")
                    </time>
                }
                @if (!string.IsNullOrEmpty(post.Excerpt))
                {
                    <p class="text-gray-600 leading-relaxed">@post.Excerpt</p>
                }
                <a href="/post/@post.Slug"
                   class="inline-block mt-4 text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors">
                    Read more &rarr;
                </a>
            </div>
        </article>
    }

    @if (Model.TotalPages > 1)
    {
        <nav class="flex justify-between items-center pt-4 border-t border-gray-100">
            @if (Model.HasPreviousPage)
            {
                <a asp-action="Index" asp-route-page="@(Model.CurrentPage - 1)"
                   class="text-indigo-600 hover:underline text-sm font-medium">&larr; Newer posts</a>
            }
            else
            {
                <span></span>
            }
            <span class="text-xs text-gray-400">
                Page @Model.CurrentPage of @Model.TotalPages
            </span>
            @if (Model.HasNextPage)
            {
                <a asp-action="Index" asp-route-page="@(Model.CurrentPage + 1)"
                   class="text-indigo-600 hover:underline text-sm font-medium">Older posts &rarr;</a>
            }
            else
            {
                <span></span>
            }
        </nav>
    }
</div>
